# О проекте
 - загрузить данные из GraphQL API в базу данных Postgres;
 - спроектировать модель данных с витринами данных;
 - создать витрину данных с моделями;
 - обернуть проект в Docker;
 - залить в открытый репозиторий на GitHub.

## Файлы в репозитории

 - migrations/alembic.ini - файлы для созданий и миграции данных в postgres
 - spacex - основная папка проекта
    - data_crud.py - содержит в себе класс для post запроса к бд
    - get_query_data.py - парсит данныt с сайта SpaceX (GraphQL API)
    - model.py - модели базы данных
    - query_graphql.py - json запрос к бд SpaceX и адрес запроса
    - upload_data.py - основной скрипт
 - Блок-схема.drawio - модели данных с витринами
 - Файлы Docker, entrypoint, readme
 - req.txt - список зависимостей
 - run.py - скрипт запуска программы

## Перед запуском

 1. ORM - SQLAlchemy, миграции сделаны через alembic
 2. Через Docker не получилось запустить проект из-за ошибки с localhost, которую в течение полутора суток мне не удалось решить. Поэтому я сделал небольшой скрипт run.py который облегчит запуск программы
 3. В качестве витрины я остановился на терминале. Сделать через сервис не успел бы за отведенный срок
 4. Не удалось спарсить таблицу missions с сайта SpaceX, выдавало пустой список. Заполнять фейковыми данными таблицу не стал т.к. это не требовалось в тз. (иначе можно было бы вообще все данные сделать фейковыми)
 5. Python 3.10.6v

## Как запустить проект


1. Склонируйте проект
```
git clone https://github.com/CodeWormD/greenatom_SpaceX_GraphQL.git
```

2. Создайте и активируйте виртуальное окружение
```
python -m venv venv
source venv/Scripts/activate
или
source venv/bin/activate
```

3. Подключитесь к бд
```
Перейдите в файл upload_data.py и введите данные своей бд в SQLALCHEMY_DATABASE_URL
```

4. Запустите скрипт через python run.py
```
Посте установки зависимостей и миграций, должны появиться данные из бд как на картинке
```
![Данные из бд](/images/db_data.jpg)
